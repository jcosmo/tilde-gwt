/* DO NOT EDIT: File is auto-generated */
package <%= struct.data_module.gwt.client_data_type_package %>;

@javax.annotation.Generated( "Domgen" )
@SuppressWarnings( { "UnusedDeclaration", "JavaDoc" } )
public class <%= struct.gwt.factory_name %>
{
  public static <%= struct.gwt.name %> create( <%= struct.fields.collect {|field| "final #{annotated_type(field, :gwt, :boundary) } #{field.name}" }.join(", ") %> )
  {
    <% params = struct.fields.collect { |field| field.name }.join(", ") %>
    if( com.google.gwt.core.client.GWT.isClient() )
    {
      return <%= struct.gwt.jso_name %>.create( <%= params %> );
    }
    else
    {
      return new <%= struct.gwt.java_name %>( <%= params %> );
    }
  }

<% if struct.top_level? %>
  public static <%= struct.gwt.qualified_name %> as<%= struct.gwt.name %>( final String json )
  {
    if( com.google.gwt.core.client.GWT.isClient() )
    {
      return <%= struct.gwt.jso_name %>.as<%= struct.gwt.name %>( json );
    }
    else
    {
      throw new UnsupportedOperationException();
    }
  }

  public static String asJson( final <%= struct.gwt.qualified_name %> entity )
  {
    if( com.google.gwt.core.client.GWT.isClient() )
    {
      return new com.google.gwt.json.client.JSONObject( (<%= struct.gwt.jso_name %>) entity ).toString();
    }
    else
    {
      throw new UnsupportedOperationException();
    }
  }
<% end
%>
}
